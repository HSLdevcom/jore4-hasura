table:
  name: route
  schema: route
object_relationships:
  - name: ends_at_scheduled_stop_point
    using:
      manual_configuration:
        column_mapping:
          ends_at_scheduled_stop_point_id: scheduled_stop_point_id
        insertion_order: null
        remote_table:
          name: scheduled_stop_point
          schema: service_pattern
  - name: route_line
    using:
      manual_configuration:
        column_mapping:
          on_line_id: line_id
        insertion_order: null
        remote_table:
          name: line
          schema: route
  - name: starts_from_scheduled_stop_point
    using:
      manual_configuration:
        column_mapping:
          starts_from_scheduled_stop_point_id: scheduled_stop_point_id
        insertion_order: null
        remote_table:
          name: scheduled_stop_point
          schema: service_pattern
array_relationships:
  - name: infrastructure_links_along_route
    using:
      manual_configuration:
        remote_table:
          schema: route
          name: infrastructure_link_along_route
        insertion_order: null
        column_mapping:
          route_id: route_id
  - name: route_journey_patterns
    using:
      manual_configuration:
        remote_table:
          schema: journey_pattern
          name: journey_pattern
        insertion_order: null
        column_mapping:
          route_id: on_route_id
computed_fields:
  - name: route_shape
    definition:
      function:
        schema: route
        name: route_shape
