table:
  name: scheduled_stop_point
  schema: service_pattern
object_relationships:
  - name: located_on_infrastructure_link
    using:
      foreign_key_constraint_on: located_on_infrastructure_link_id
  - name: timing_place
    using:
      foreign_key_constraint_on: timing_place_id
array_relationships:
  - name: scheduled_stop_point_in_journey_patterns
    using:
      manual_configuration:
        remote_table:
          schema: journey_pattern
          name: scheduled_stop_point_in_journey_pattern
        insertion_order: null
        column_mapping:
          label: scheduled_stop_point_label
  - name: other_label_instances
    using:
      manual_configuration:
        remote_table:
          schema: service_pattern
          name: scheduled_stop_point
        insertion_order: null
        column_mapping:
          label: label
  - name: vehicle_mode_on_scheduled_stop_point
    using:
      manual_configuration:
        remote_table:
          schema: service_pattern
          name: vehicle_mode_on_scheduled_stop_point
        insertion_order: null
        column_mapping:
          scheduled_stop_point_id: scheduled_stop_point_id
computed_fields:
  - name: closest_point_on_infrastructure_link
    definition:
      function:
        schema: service_pattern
        name: scheduled_stop_point_closest_point_on_infrastructure_link
  - name: relative_distance_from_infrastructure_link_start
    definition:
      function:
        schema: service_pattern
        name: ssp_relative_distance_from_infrastructure_link_start
